<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Decrypted Text Effect with Shooting Stars</title>
<style>
  /* Reset */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html, body {
    height: 100%;
    background-color: black;
    font-family: 'Press Start 2P', cursive, monospace, sans-serif;
    overflow: hidden;

    /* Center content */
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
  }

  /* Shooting star background */
  section {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: url("https://i.postimg.cc/c1Q3njM0/bg2.jpg");
    background-size: cover;
    animation: animateBg 50s linear infinite;
    z-index: 0;
  }

  @keyframes animateBg {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.2);
    }
  }

  section span {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 4px;
    height: 4px;
    background: #fff;
    border-radius: 50%;
    box-shadow:
      0 0 0 4px rgba(255, 255, 255, 0.1),
      0 0 0 8px rgba(255, 255, 255, 0.1),
      0 0 20px rgba(255, 255, 255, 0.1);
    animation: animateStar 3s linear infinite;
  }

  section span::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 100%;
    transform: translateY(-50%);
    width: 300px;
    height: 1px;
    background: linear-gradient(90deg, #fff, transparent);
  }

  @keyframes animateStar {
    0% {
      transform: rotate(315deg) translateX(0);
      opacity: 1;
    }
    70% {
      opacity: 1;
    }
    100% {
      transform: rotate(315deg) translateX(-1000px);
      opacity: 0;
    }
  }

  /* Positions for shooting stars */
  section span:nth-child(1) { top: 0; right: 0; animation-delay: 0s; animation-duration: 1s; }
  section span:nth-child(2) { top: 0; right: 80px; animation-delay: 0.2s; animation-duration: 3s; }
  section span:nth-child(3) { top: 80px; right: 0px; animation-delay: 0.4s; animation-duration: 2s; }
  section span:nth-child(4) { top: 0; right: 180px; animation-delay: 0.6s; animation-duration: 1.5s; }
  section span:nth-child(5) { top: 0; right: 400px; animation-delay: 0.8s; animation-duration: 2.5s; }
  section span:nth-child(6) { top: 0; right: 600px; animation-delay: 1s; animation-duration: 3s; }
  section span:nth-child(7) { top: 300px; right: 0px; animation-delay: 1.2s; animation-duration: 1.75s; }
  section span:nth-child(8) { top: 0px; right: 700px; animation-delay: 1.4s; animation-duration: 1.25s; }
  section span:nth-child(9) { top: 0px; right: 1000px; animation-delay: 0.75s; animation-duration: 2.25s; }
  section span:nth-child(10) { top: 0px; right: 450px; animation-delay: 2.75s; animation-duration: 2.75s; }

  /* Dark overlay behind content */
  #overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: rgba(0,0,0,0.7);
    z-index: 5;
  }

  /* Content container */
  #content {
    position: relative;
    z-index: 10;
    max-width: 700px;
    padding: 2rem;
    color: white;
    user-select: none;
  }

  #decryptedText {
    font-size: 1.2rem;
    white-space: pre-wrap;
    margin-bottom: 3rem;
    cursor: pointer;
    line-height: 1.5;
    color: white;
    user-select: text;
  }

  /* Pixelated retro button styles */
  #startGameBtn {
    font-family: 'Press Start 2P', cursive, monospace;
    font-size: 1rem;
    color: white;
    background-color: transparent;
    border: 4px solid white;
    padding: 1em 2em;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 2px;
    box-shadow:
      0 0 0 3px black,
      4px 4px 0 0 white;
    user-select: none;
    transition: background-color 0.2s, box-shadow 0.2s, transform 0.1s;
  }

  #startGameBtn:hover {
    background-color: white;
    color: black;
    box-shadow:
      0 0 0 3px black,
      6px 6px 0 0 white;
    transform: translate(-2px, -2px);
  }

  #startGameBtn:active {
    box-shadow: none;
    transform: translate(0, 0);
  }

  /* Load Google Fonts */
  @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
</style>
</head>
<body>

<section>
  <span></span><span></span><span></span><span></span><span></span>
  <span></span><span></span><span></span><span></span><span></span>
</section>

<div id="overlay"></div>

<div id="content">
  <div id="decryptedText" aria-label="Welcome message" tabindex="0" role="button" title="Hover to decrypt">
Welcome, gamers! ðŸŽ®
In this challenge, gravity is your biggest enemyâ€”and your best friend. When the gravity arrow points down, tap the up arrow to rise against it. But bewareâ€”the countdown (3... 2... 1...) means gravity is about to flip! When it switches up, tap the down arrow to descend.

Stay quickâ€”objects move fast with the changing gravity, and every millisecond counts. âš¡ All the while, dodge the pipes and steer clear of their edges. Survive as long as you can and master the flips. Good luck!
  </div>

  <button id="startGameBtn" aria-label="Start Game">Start Game</button>
</div>

<script>
(() => {
  const container = document.getElementById('decryptedText');
  const button = document.getElementById('startGameBtn');
  const originalText = container.textContent;
  const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+1234567890';
  let scrambling = false;
  let intervalId = null;
  const speed = 100; // slower scrambling (100ms)
  const maxIterations = 15;
  let currentIteration = 0;

  function scrambleText() {
    let scrambled = '';
    for (let i = 0; i < originalText.length; i++) {
      const char = originalText[i];
      if (char === ' ') {
        scrambled += ' ';
      } else {
        scrambled += (Math.random() > 0.5) ? char : characters.charAt(Math.floor(Math.random() * characters.length));
      }
    }
    return scrambled;
  }

  function renderText(text) {
    container.innerHTML = '';
    for (let i = 0; i < text.length; i++) {
      const span = document.createElement('span');
      span.textContent = text[i];
      span.style.color = 'white';
      container.appendChild(span);
    }
  }

  function startScrambling() {
    if (scrambling) return;
    scrambling = true;
    currentIteration = 0;

    intervalId = setInterval(() => {
      if (currentIteration < maxIterations) {
        const scrambled = scrambleText();
        renderText(scrambled);
        currentIteration++;
      } else {
        clearInterval(intervalId);
        scrambling = false;
        renderText(originalText);
      }
    }, speed);
  }

  function stopScrambling() {
    if (intervalId) clearInterval(intervalId);
    scrambling = false;
    renderText(originalText);
  }

  renderText(originalText);

  container.addEventListener('mouseenter', startScrambling);
  container.addEventListener('mouseleave', stopScrambling);

  container.addEventListener('keydown', e => {
    if (e.key === 'Enter' || e.key === ' ') {
      if (scrambling) {
        stopScrambling();
      } else {
        startScrambling();
      }
      e.preventDefault();
    }
  });

  button.addEventListener('click', () => {
    window.location.href = 'GravitySwap.html';
  });
})();
</script>

</body>
</html>
